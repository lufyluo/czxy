<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.czxy.manage.dao.CourseMapper">
    <sql id="base_column">
               id
        ,name
        ,address_id as addressId
        ,org_id as orgId
        ,begin_time as beginTime
        ,end_time as endTime
        ,arrange_id as arrangeId
        updated_time as updatedTime, created_time as createdTime
    </sql>
    <select id="get" resultType="com.czxy.manage.model.entity.CourseDetailEntity">
        select
        c.id,
        c.name,
        u.name as teacherName,
        s.addr as address,
        ca.category,
        ca.begin_time as beginTime,
        ca.end_time as endTime,
        c.offset,
        ca.updated_time as updatedTime, ca.created_time as createdTime
        from course_arrange ca
        left join course c on ca.content_id = c.id
        left join teacher t
        on c.teacher_id = t.id
        left  join user u
        on t.user_id = u.id
        left join site s
        on ca.content_id = s.id
        where  ca.arrange_id = #{arrangeId}
    </select>
</mapper>